<div class="app-container">
<app-nav />
<div class="container">
<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title class="ion-text-center">Users</ion-card-title> <!-- Center align title -->
    </ion-card-header>

    <ion-card-content>
      <ngx-datatable
        class="material bordered"
        [rows]="users"
        
        [columnMode]="'force'"
        [headerHeight]="50"
        [rowHeight]="'auto'"
        [footerHeight]="50"
        [loadingIndicator]="loading"
        [limit]="10"
        [count]="totalElements"
        [offset]="page"
        (page)="setPage($event)"
      >
      <ngx-datatable-column
      name="ID" 
      >
    <!-- <ng-template
    ngx-datatable-cell-template
    let-rowIndex="rowIndex"
    let-value="value"
    let-row="row"
    >
      {{value}}
      <button>Click Me</button>
    </ng-template> -->
    </ngx-datatable-column>
    <ngx-datatable-column name="Username" prop="username"/>
    <ngx-datatable-column name="Email" prop="email" />
    <ngx-datatable-column name="Role" prop="role" />
    <ngx-datatable-column name="Operations">
      <ng-template 
      ngx-datatable-cell-template
      let-rowIndex="rowIndex"
      let-value="value"
      let-row="row">
      <!-- Update Button -->
      <button mat-raised-button color="primary" (click)="openUpdateUserDialog(row)" >
        <mat-icon>edit</mat-icon>
        Edit
      </button>

      <!-- Delete Button -->
      <button mat-raised-button color="warn" class="delete-button" (click)="deleteUser(row.id)">
        <mat-icon>delete</mat-icon>
        Delete
      </button>
      
    </ng-template>
    </ngx-datatable-column>
      </ngx-datatable>
    </ion-card-content>
  </ion-card>
</ion-content>
</div>
</div>